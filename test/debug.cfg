process TPBMuonL1Skim = {

  # initialize MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  replace MessageLogger.cerr.threshold = "INFO"
  
  # return trigger report (including filter efficiencies)
  untracked PSet options = { untracked bool wantSummary = true }

  untracked PSet maxEvents = { untracked int32 input = -1 }


  ### INPUT ###

  source = PoolSource {
   untracked vstring fileNames = {
     # from /CSA07Muon/CMSSW_1_6_7-CSA07-Chowder-A3-PDMuon-ReReco-100pb-Skims4-topSemiLepMuon/USER
     '/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0000/08A0A10B-25C5-DC11-BE27-001617C3B6B4.root'
     #'/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0000/22192F93-27C5-DC11-89F3-001617C3B6FE.root',
     #'/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0000/4E680789-24C5-DC11-A8CF-000423D985B0.root',
     #'/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0000/5E9D178B-27C5-DC11-874B-000423D94E1C.root',
     #'/store/CSA07/skim/2008/1/17/CSA07-CSA07Muon-Chowder-A3-PDMuon-ReReco-100pb-Skims4/0000/789717F2-24C5-DC11-A591-0019DB29C5FC.root'
     #'/store/CSA07/skim/2008/2/5/CSA07-CSA07AllEvents-Gumbo-B1-PDAllEvents-ReReco-100pb-Skims0/0011/0C93D7A5-26D9-DC11-BF14-0030487270ED.root'
	   #'/store/mc/2007/9/6/CSA07-Muon_ppMuX-2215/0000/0060AD13-A86C-DC11-BDC2-001731A28FCB.root' 
   }

   untracked uint32 debugVerbosity = 10
   untracked bool   debugFlag     = true

  }



  ### CSA07 weights ###
  module csa07EventWeightProducer = CSA07EventWeightProducer {
    InputTag src = source
      
    # verbosity
    untracked bool talkToMe = false
    
    # overall luminosity normalization  (in pb-1) 
    double overallLumi = 10.

    # K-factor for ttbar (= 1. for ALPGEN LO cross sections)
    # from MCFM NLO vs LO study, the K-factor is found to be 1.85
    double ttKfactor = 1.85
  }

  #### CSA07 process id filter ###
  module csa07ProcessIdFilter = CSA07ProcessIdFilter {
    // only ttbar
    vint32 csa07Ids = { 22 } //,23,24,25,26 
    double overallLumi = 10.
    string csa07EventWeightProducerLabel = "csa07EventWeightProducer"
  }  
 
# GenParticle transition
include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates2GenParticles.cfi"

module printTree = ParticleListDrawer {
    untracked int32 maxEventsToPrint = 15
    InputTag src = genParticleCandidates #genParticles
  }
  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"


  ### Output ###

  path p = {
    #genParticles,
    csa07EventWeightProducer,
    csa07ProcessIdFilter,
    printTree
  }


}
